<!DOCTYPE html>
<html>

  <head>
    <title>Output</title>
    <link rel="stylesheet" type="text/css" href="../static/css/css_header.css">
    <link rel="stylesheet" type="text/css" href="../static/css/css_output.css">
    <script src="../static/js/js_header.js"></script>
    <script src="../static/js/js_output.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    
  </head>

    <header>

      <!-- left side of the header -->
      <div class="header-left">
        <button class="sidebar-btn" onclick="toggleSidebar()">&#8801;</button>

        <div class="sidebar">

          <h2 class="sidebar-title">Novels Websites Suggestions</h2>

          <ul>
            <div class="suggestion">
            <li>
            <a href="https://www.gutenberg.org/" target="_blank">Project Gutenberg</a>
            <p class="description">A digital library with over 60,000 free eBooks, including many children's books.</p>
            </li>
            </div>

            <div class="suggestion">
              <li>
              <a href="https://openlibrary.org/" target="_blank">Open Library</a>
              <p class="description">A digital library with over 1.7 million free eBooks, including many children's books.</p>
              </li>
              </div>

            <div class="suggestion">
              <li>
              <a href="https://manybooks.net/" target="_blank">ManyBooks</a>
              <p class="description">A digital library with over 50,000 free eBooks, including many children's books.</p>
              </li>
              </div>

            <div class="suggestion">
              <li>
              <a href="https://magicblox.com/" target="_blank">MagicBlox Children's Book Library</a>
              <p class="description">A website that offers a large selection of free children's books in PDF format.</p>
              </li>
              </div>

            <div class="suggestion">
              <li>
              <a href="https://digilibraries.com/" target="_blank">DigiLibraries</a>
              <p class="description">A digital library with over 33,000 free eBooks, including many children's books.</p>
              </li>
              </div>

            <div class="suggestion">
              <li>
              <a href="https://www.bartleby.com/" target="_blank">Bartleby</a>
              <p class="description">A digital library with over 5,000 free eBooks, including many children's books.</p>
              </li>
              </div>

          </ul>

        </div>

      </div>

      <!-- middle side of the header -->
      <!-- middle side of the header -->
      <!-- middle side of the header -->
      <div class="header-middle">
        <a href="/home_page"> <img src="../static/Images/logo.png" alt="Your Logo"> </a>
      </div>

      <!-- right side of the header -->
      <div class="header-right">
        <nav>
          <ul>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Help</a></li>
            <li><a href="#">About</a></li>
          </ul>
        </nav>
      </div>

    </header>
    <body>
      
      <div class="book">
        <div class="left-page">
          <p class="novel-content">{{ result }}</p>
          <!-- <p class="novel-content">Snow White wandered on and on till she got through the forest and came to a mountain hut and knocked at the door, but she got no reply. She was so tired that she lifted up the latch and walked in, and there she saw three little beds and three little chairs and three little cupboards all ready for use. And she went up to the first bed and lay down upon it, but it was so hard that she couldn't rest; and then she went up to the second bed and lay down upon that, but that was so soft that she got too hot and couldn't go to sleep. So she tried the third bed, but that was neither too hard nor too soft, but suited her exactly; and she fell asleep there.</p> -->
        </div>
        <div class="right-page">
          <p class="novel-content">{{ result2 }}</p>
          <!-- <img id="book-image" src="redridinghood.jpg"> -->
          <img id="book-image" src="data:image/jpeg;base64,{{ result2 }}">
        </div>
        <a href="data:image/jpeg;base64,{{ result2 }}" download="generated_image.jpg" class="download-button">Download Image</a>
        <a href="#" id="download-book" class="download-button">Download Book</a>
      </div>
      
    </body>

    <script>
      // Function to download the book container as a JPEG image
      function downloadBookContainer() {
        // Get the book container element
        const bookContainer = document.querySelector('.book');
    
        // Use html2canvas to capture the book container as an image
        html2canvas(bookContainer).then(function(canvas) {
          // Create a temporary anchor element to trigger the download
          const downloadLink = document.createElement('a');
          downloadLink.href = canvas.toDataURL('image/jpeg');
          downloadLink.download = 'book_container.jpg';
    
          // Trigger the download
          downloadLink.click();
        });
      }
    
      // Attach click event listener to the download button
      const downloadBookButton = document.getElementById('download-book');
      downloadBookButton.addEventListener('click', downloadBookContainer);


    </script>
  
    
</html>